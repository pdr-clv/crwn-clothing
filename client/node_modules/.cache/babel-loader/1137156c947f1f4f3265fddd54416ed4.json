{"ast":null,"code":"// aquí está el objeto que tiene toda la base de los reducers de los states de la aplicación.\n// traeremos el código de varias secciones individuales, y se centralizará aquí.\n// root reducer tiene todos los reducers, hay que importar combineRedux para combinarlos todos en el root-reducer.\n//import { combineRedux, combineReducers } from 'redux'; // como sale un error siempre de combineRedux no se utiliza, cambio el import, y no incluyo en combineRedux\nimport { combineReducers } from 'redux'; // importamos nuestro persistReducer desde redux-persist porque a parte de hacer persistente nuestro store, también queremos hacer persistente el reducer, para poder utilizar las variantes del reducer que permanezcan almacenadas en localStore\n\nimport { persistReducer } from 'redux-persist'; //importamos storage desde redux .... el tipo de store que queremos importar desde nuestro localStorage from our windowsBrowser\n\nimport storage from 'redux-persist/lib/storage';\nimport userReducer from './user/user.reducer';\nimport cartReducer from './cart/cart.reducer'; //ahora que tenemos el store de nuestro localstore del navegador or browser, tenemos que definir el nuevo config de nuestro persistor\n// key porque está en root el state. storage, porque es el storage que está guardado en el localStorage del navegador, whitelist, porque queremos sólo que sea persistente cart, ya que user está guardado en Firebase, y no hace falta hacerlo persistente.\n\nconst persistConfig = {\n  key: 'root',\n  storage,\n  whitelist: ['cart']\n}; // el reducer cart es el único que queremos que persista por eso se añade al whitelist, ya que user persiste gracias a que está en Firebase\n//definimos nuestro rootReducer\n\nconst rootReducer = combineReducers({\n  user: userReducer,\n  cart: cartReducer\n}); // exportamos con persistReducer el rootReducer, con nuestra configuración de persisConfig.\n\nexport default persistReducer(persistConfig, rootReducer);\n/* // forma primitiva, ahora definimos nuestro rootReducer, y lo hacemos persistente.\nexport default combineReducers({\n  user: userReducer,\n  cart: cartReducer\n}); */","map":{"version":3,"sources":["/home/pdrclv/react/crwn-clothing/src/redux/root-reducer.js"],"names":["combineReducers","persistReducer","storage","userReducer","cartReducer","persistConfig","key","whitelist","rootReducer","user","cart"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAASA,eAAT,QAAgC,OAAhC,C,CACA;;AACA,SAASC,cAAT,QAA+B,eAA/B,C,CACA;;AACA,OAAOC,OAAP,MAAoB,2BAApB;AAEA,OAAOC,WAAP,MAAwB,qBAAxB;AACA,OAAOC,WAAP,MAAwB,qBAAxB,C,CAEA;AACA;;AACA,MAAMC,aAAa,GAAG;AACpBC,EAAAA,GAAG,EAAC,MADgB;AAEpBJ,EAAAA,OAFoB;AAGpBK,EAAAA,SAAS,EAAE,CAAC,MAAD;AAHS,CAAtB,C,CAKA;AACA;;AAEA,MAAMC,WAAW,GAAGR,eAAe,CAAC;AAClCS,EAAAA,IAAI,EAAEN,WAD4B;AAElCO,EAAAA,IAAI,EAAEN;AAF4B,CAAD,CAAnC,C,CAKA;;AACA,eAAeH,cAAc,CAACI,aAAD,EAAeG,WAAf,CAA7B;AAEA","sourcesContent":["// aquí está el objeto que tiene toda la base de los reducers de los states de la aplicación.\n// traeremos el código de varias secciones individuales, y se centralizará aquí.\n// root reducer tiene todos los reducers, hay que importar combineRedux para combinarlos todos en el root-reducer.\n//import { combineRedux, combineReducers } from 'redux'; // como sale un error siempre de combineRedux no se utiliza, cambio el import, y no incluyo en combineRedux\nimport { combineReducers } from 'redux';\n// importamos nuestro persistReducer desde redux-persist porque a parte de hacer persistente nuestro store, también queremos hacer persistente el reducer, para poder utilizar las variantes del reducer que permanezcan almacenadas en localStore\nimport { persistReducer } from 'redux-persist'; \n//importamos storage desde redux .... el tipo de store que queremos importar desde nuestro localStorage from our windowsBrowser\nimport storage from 'redux-persist/lib/storage';\n\nimport userReducer from './user/user.reducer';\nimport cartReducer from './cart/cart.reducer';\n\n//ahora que tenemos el store de nuestro localstore del navegador or browser, tenemos que definir el nuevo config de nuestro persistor\n// key porque está en root el state. storage, porque es el storage que está guardado en el localStorage del navegador, whitelist, porque queremos sólo que sea persistente cart, ya que user está guardado en Firebase, y no hace falta hacerlo persistente.\nconst persistConfig = {\n  key:'root',\n  storage,\n  whitelist: ['cart']\n}\n// el reducer cart es el único que queremos que persista por eso se añade al whitelist, ya que user persiste gracias a que está en Firebase\n//definimos nuestro rootReducer\n\nconst rootReducer = combineReducers({\n  user: userReducer,\n  cart: cartReducer\n}); \n\n// exportamos con persistReducer el rootReducer, con nuestra configuración de persisConfig.\nexport default persistReducer(persistConfig,rootReducer);\n\n/* // forma primitiva, ahora definimos nuestro rootReducer, y lo hacemos persistente.\nexport default combineReducers({\n  user: userReducer,\n  cart: cartReducer\n}); */\n"]},"metadata":{},"sourceType":"module"}